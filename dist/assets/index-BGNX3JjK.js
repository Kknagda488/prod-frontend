import{p as Se,r as l,a0 as _e,Q as k,j as e,X as Qe,aZ as ye,a_ as Ze,q as v,W as q}from"./index-PDBVLXQN.js";import"./FileSaver.min-C8VLTI_m.js";import{v as Ae}from"./v4-D8aEg3BZ.js";import{B as ke}from"./index.esm-Brun24un.js";function He({list:g,setBatchPop:Z,setChartData:H,setExcelData:R,updater:C,setUpdater:h,syncId:T,setSyncId:K}){var ae,W,Q;const{userData:$}=Se(),[ee,c]=l.useState(!1),[z,A]=l.useState([]),[Y,D]=l.useState([]),[me,J]=l.useState([]);l.useState([]),_e();const[S,X]=l.useState([]),[I,ne]=l.useState([]);l.useState([]);const[pe,se]=l.useState(!1);var te=[],m=[],O=[],re=[],G=[];l.useEffect(()=>{C.status!=="init"&&(ce(T.batch,T.assessment),h({...C,status:"init"}))},[C]);const ce=async(x,N)=>{const b={assessmentId:N,batchId:x};var f;let y=new URLSearchParams(Object.entries(b)).toString();f=await fetch(`http://15.206.237.179:8000/api/userBatchAnswers/getReport?access_token=${$==null?void 0:$.accessToken}`,{headers:{"Content-Type":"application/x-www-form-urlencoded"},method:"POST",body:y});const u=await f.json();if(!f.ok)console.log("er");else if(u.code===404)console.error(u.msg);else if(u!=null&&u.value){X(u.data);var o=u.data;ge(o,x,N)}else k.warn("No reports available!! Try again later")},ge=(x,N,b)=>{var f,y,u;x==null||x.reportData.map((o,L)=>{var ue,B,fe,le;f={timestamp:o.createdDate,program:(ue=x==null?void 0:x.teamInfo)==null?void 0:ue.programName,facilitator:(B=x==null?void 0:x.teamInfo)==null?void 0:B.tranineeName,batchId:N,assessmentId:b,participantName:o.fullName,employeeCode:o.employeeId,email:o.email,score:`${o.obtainMarks} / ${o.totalMarks}`,region:o.branchName,result:o.result,avgscore:""},u={program:(fe=x==null?void 0:x.teamInfo)==null?void 0:fe.programName,facilitator:(le=x==null?void 0:x.teamInfo)==null?void 0:le.tranineeName,timestamp:o.createdDate.substring(0,10),participantName:o.fullName,employeeCode:o.employeeId,email:o.email,contact:o==null?void 0:o.contactNo,score:o.obtainMarks,region:o.branchName,result:o.result};var P=JSON.parse(o.answerResponseBunch);return P.map((j,oe)=>{var M;j.questionType=="multiopt"?M=(j==null?void 0:j.selectedAnswer.join())||(j==null?void 0:j.selectedOption.join()):M=(j==null?void 0:j.selectedAnswer)||(j==null?void 0:j.selectedOption);var F={};return F={...F,[`question${oe+1}`]:M},u={...u,...F},j}),te.push(parseInt(o.obtainMarks)),re.push(JSON.parse(o.answerResponseBunch)),m.push(f),m.length==x.reportData.length,O.push(u),o}),D(m),C.status!=="init"&&R(m),m=[],J(O),re.map(o=>o.map(L=>(y={label:L.question,data:L.selectedOption,type:L.questionType,options:L.answers},G.push(y)))),he(G)},he=x=>{const N=x.reduce((u,o)=>{const L=u.find(P=>P.label===o.label);if(L){const P=L.data.push(o.data);return o.label,o.type,o.options,u}else{const P={label:o.label,data:[o.data],type:o.type,options:o.options};return u.concat([P])}},[]);var b=[],f=[];N.map(u=>(f.push(u.label),u));for(var y=0;y<=b.length;y++)({...m[y],...b[y]});f=["Program Title","Facilitator","Date","Employee Name","EmployeeId","Email","Contact","Score","Region","Result",...f],ne(f),A(N),c(!0)};return`${(ae=S==null?void 0:S.assessmentRes)==null?void 0:ae.assessmentType}${(W=S==null?void 0:S.assessmentRes)==null?void 0:W.name}${(Q=S==null?void 0:S.teamInfo)==null?void 0:Q.tranineeName}`,e.jsx(e.Fragment,{children:ee?e.jsx(e.Fragment,{children:e.jsx("div",{children:e.jsxs("button",{onClick:()=>{R(Y),Z(!0),se(!1)},type:"button",className:"flex w-fit items-center justify-center bg-green-500 py-2 rounded-md px-5 text-sm  text-white font-medium",children:[e.jsx(Qe,{className:"text-xl mr-1"})," Preview Report"]})})}):e.jsxs("button",{type:"button",onClick:()=>{ce(g.batchId,g.assessmentId)},className:" text-gray-600  flex items-center justify-center space-x-1 text-2xl hover:underline",children:[e.jsx(ye,{}),e.jsx("p",{className:"text-sm mb-0.5",children:"Track Report"})]})})}function Le({next:g,previous:Z,pgindex:H,page:R,totalCount:C,setLimit:h,client:T,setPage:K,setSearch:$,setBatchPop:ee,setChartData:c,assessmentsList:z,setAssessmentPop:A,id:Y,setExcelData:D,updater:me,setUpdater:J,syncId:S,setSyncId:X,batchAttendences:I,setAttendancePop:ne,attendancePop:pe}){const[se,te]=l.useState("Fetching...");return Se(),console.log("batchAttendences",I),l.useEffect(()=>{const m=setTimeout(()=>{te("No Data Found...")},1e4);return()=>clearTimeout(m)},[]),console.log(I,"batchAttendencesbatchAttendencesbatchAttendencesbatchAttendences"),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("h5",{className:"text-2xl font-medium text-center leading-none text-gray-700 ",children:"Live Batch Report Preview"}),e.jsxs("div",{className:"flex flex-row  w-full justify-between items-center",children:[e.jsx("div",{className:"px-2  flex w-full justify-between   ",children:e.jsxs("h5",{className:"text-lg  font-medium leading-none text-gray-700 ",children:["Report List of Batch Id: ",Y]})}),e.jsxs("div",{className:"relative mt-1 ",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none py-2 ",children:e.jsx("svg",{className:"w-5 h-5 text-gray-500 ",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})})}),e.jsx("input",{type:"text",id:"table-search",className:"bg-gray-50 border py-1 outline-none border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-sky-500 focus:border-sky-500 block w-80 pl-10 p-2.5  ",placeholder:"Search by Assessments",onChange:m=>$(m.target.value)})]})]}),e.jsx("div",{className:"relative overflow-x-auto shadow-md sm:rounded-lg mt-3",children:e.jsxs("table",{className:"w-full text-sm  text-center text-gray-500 ",children:[e.jsx("thead",{className:"text-xs text-white uppercase bg-sky-500  ",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Assessment"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Type"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Batch Id"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Date"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Client Name"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Download Report"})]})}),(z==null?void 0:z.length)==0?e.jsx("tbody",{children:e.jsxs("tr",{className:"border-b  text-lg font-medium odd:bg-white even:bg-gray-50 ",children:[e.jsx("td",{className:"px-6 py-4",children:" "}),e.jsx("td",{className:"px-6 py-4",children:" "}),e.jsx("td",{className:"px-6 py-4",children:se}),e.jsx("td",{className:"px-6 py-4",children:" "}),e.jsx("td",{className:"px-6 py-4",children:" "}),e.jsx("td",{className:"px-6 py-4",children:" "})]})}):e.jsx(e.Fragment,{children:z==null?void 0:z.map(m=>{var O;return e.jsx("tbody",{className:"text-center",children:e.jsxs("tr",{className:"border-b   odd:bg-white even:bg-gray-50 odd: even:",children:[e.jsx("th",{scope:"row",className:"px-6 py-4 font-medium text-gray-900  whitespace-nowrap",children:m.name}),e.jsx("td",{className:"px-6 py-4",children:m.assessmentType}),e.jsx("td",{className:"px-6 py-4",children:m.batchId}),e.jsx("td",{className:"px-6 py-4",children:(O=m==null?void 0:m.createdDate)==null?void 0:O.substring(0,10)}),e.jsx("td",{className:"px-6 py-4",children:m.clientName}),e.jsx("td",{className:"relative flex flex-row px-6 text-center py-4 justify-center items-center space-x-6  mt-2",children:e.jsx(He,{list:m,setBatchPop:ee,setChartData:c,setExcelData:D,updater:me,setUpdater:J,syncId:S,setSyncId:X})})]})},Ae())})})]})}),T==="kotak"?e.jsxs(e.Fragment,{children:[e.jsx("h5",{className:"text-lg py-5 font-medium leading-none text-gray-700 ",children:"Assessmnet Data"}),e.jsx("div",{className:"relative overflow-x-auto shadow-md sm:rounded-lg",children:e.jsxs("table",{className:"w-full text-sm border-b  text-center text-gray-500 ",children:[e.jsx("thead",{className:"text-xs text-white uppercase bg-sky-500  ",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3",children:"BatchId"}),e.jsx("th",{scope:"col",className:"px-6 py-3"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Add Assessmnet Data"})]})}),I?e.jsx(e.Fragment,{children:I.length>=0&&e.jsxs("tbody",{children:[I.map(m=>e.jsx("tr",{})),e.jsxs("tr",{children:[e.jsx("td",{className:"py-3",children:Y}),e.jsx("td",{className:"py-3"}),e.jsx("td",{className:"relative flex flex-row px-6 text-center py-4 justify-center items-center space-x-6  mt-2",children:e.jsxs("button",{type:"button",onClick:()=>{A(!0)},className:" text-gray-600  flex items-center justify-center space-x-1 text-2xl hover:underline",children:[e.jsx(ye,{}),e.jsx("p",{className:"text-sm mb-0.5",children:"Track Report"})]})})]})]})}):e.jsx("tbody",{children:e.jsx("tr",{children:e.jsx("td",{className:"text-center py-3",colSpan:2,children:"Fetching..."})})})]})}),e.jsx("h5",{className:"text-lg py-5 font-medium leading-none text-gray-700 ",children:"Attendance Data"}),e.jsx("div",{className:"relative overflow-x-auto shadow-md sm:rounded-lg",children:e.jsxs("table",{className:"w-full text-sm border-b  text-center text-gray-500 ",children:[e.jsx("thead",{className:"text-xs text-white uppercase bg-sky-500  ",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3",children:"BatchId"}),e.jsx("th",{scope:"col",className:"px-6 py-3"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"View Attendance"})]})}),I?e.jsx(e.Fragment,{children:I.length>=0&&e.jsxs("tbody",{children:[I.map(m=>e.jsx("tr",{})),e.jsxs("tr",{children:[e.jsx("td",{className:"py-3",children:Y}),e.jsx("td",{className:"py-3"}),e.jsx("td",{className:"relative flex flex-row px-6 text-center py-4 justify-center items-center space-x-6  mt-2",children:e.jsxs("button",{type:"button",onClick:()=>{ne(!0)},className:" text-gray-600  flex items-center justify-center space-x-1 text-2xl hover:underline",children:[e.jsx(ye,{}),e.jsx("p",{className:"text-sm mb-0.5",children:"Track Report"})]})})]})]})}):e.jsx("tbody",{children:e.jsx("tr",{children:e.jsx("td",{className:"text-center py-3",colSpan:2,children:"Fetching..."})})})]})})]}):e.jsxs(e.Fragment,{children:[e.jsx("h5",{className:"text-lg py-5 font-medium leading-none text-gray-700 ",children:"Attendance Data"}),e.jsx("div",{className:"relative overflow-x-auto shadow-md sm:rounded-lg",children:e.jsxs("table",{className:"w-full text-sm border-b  text-center text-gray-500 ",children:[e.jsx("thead",{className:"text-xs text-white uppercase bg-sky-500  ",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3",children:"BatchId"}),e.jsx("th",{scope:"col",className:"px-6 py-3"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"View Attendance"})]})}),I?e.jsx(e.Fragment,{children:I.length>=0&&e.jsxs("tbody",{children:[I.map(m=>e.jsx("tr",{})),e.jsxs("tr",{children:[e.jsx("td",{className:"py-3",children:Y}),e.jsx("td",{className:"py-3"}),e.jsx("td",{className:"relative flex flex-row px-6 text-center py-4 justify-center items-center space-x-6  mt-2",children:e.jsxs("button",{type:"button",onClick:()=>{ne(!0)},className:" text-gray-600  flex items-center justify-center space-x-1 text-2xl hover:underline",children:[e.jsx(ye,{}),e.jsx("p",{className:"text-sm mb-0.5",children:"Track Report"})]})})]})]})}):e.jsx("tbody",{children:e.jsx("tr",{children:e.jsx("td",{className:"text-center py-3",colSpan:2,children:"Fetching..."})})})]})})]})]})}function Me({excelData:g,setUpdater:Z,setSyncId:H}){var R,C;return e.jsxs("div",{className:"mt-10 relative",children:[e.jsxs("div",{className:"flex w-full justify-between items-center",children:[e.jsxs("div",{className:"flex flex-col w-fit my-3  bg-white  px-2",children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-800 capitalize ",children:["Program Name: ",(R=g[0])==null?void 0:R.program]}),e.jsxs("p",{className:"font-medium text-md text-gray-700",children:["Trainer: ",(C=g[0])==null?void 0:C.facilitator]})]}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-800 capitalize mb-1",children:["Total responses: ",(g==null?void 0:g.length)||0]}),e.jsxs("button",{onClick:()=>{var h,T;H({batch:(h=g[0])==null?void 0:h.batchId,assessment:(T=g[0])==null?void 0:T.assessmentId}),Z({status:"refresh",id:Ae()})},className:"flex w-fit items-center justify-center text-md mb-2 text-white bg-sky-500 rounded-md px-2 pb-1",children:["Sync Data",e.jsx(Ze,{className:" ml-2 text-2xl mt-1"})]})]})]}),e.jsx("div",{id:"journal-scroll",className:"flex w-full overflow-y-auto  max-h-[25rem] pt-1",children:e.jsxs("table",{className:"w-full text-sm font-medium text-left text-gray-700",children:[e.jsx("thead",{className:"text-xs text-gray-700 uppercase  bg-gray-50 ",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"py-3 px-6",children:"Time Stamp"}),e.jsx("th",{scope:"col",className:"py-3 px-6",children:"Employee Name"}),e.jsx("th",{scope:"col",className:"py-3 px-6",children:"Employee Id"}),e.jsx("th",{scope:"col",className:"py-3 px-6",children:"Region"}),e.jsx("th",{scope:"col",className:"py-3 px-6",children:"Status"})]})}),e.jsx("tbody",{children:g.map(h=>{var T,K;return e.jsxs("tr",{className:"bg-white  border-b ",children:[e.jsx("th",{scope:"row",className:"py-4 px-6 font-medium text-gray-600 whitespace-nowrap ",children:(K=(T=h==null?void 0:h.timestamp)==null?void 0:T.replace("T"," "))==null?void 0:K.substring(0,19)}),e.jsx("td",{className:"py-4 px-6",children:h==null?void 0:h.participantName}),e.jsx("td",{className:"py-4 px-6",children:h==null?void 0:h.employeeCode}),e.jsx("td",{className:"py-4 px-6",children:h==null?void 0:h.region}),e.jsx("td",{className:"py-4 px-6 text-green-500 font-semibold",children:"Submitted"})]},Ae())})})]})})]})}var es={VITE_PUBLIC_URL:"http://15.206.237.179:8000",VITE_PUBLIC_EMAIL_SUFFIX:"@wagonslearning.com",VITE_PUBLIC_LINK:"http://13.126.247.25:3000",VITE_DOMAIN:"http://15.206.237.179:3000",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};function cs(){const[g,Z]=l.useState([]),[H,R]=l.useState(!1),[C,h]=l.useState(!1),[T,K]=l.useState(!1),[$,ee]=l.useState(""),{userData:c,signOut:z}=Se(),[A,Y]=l.useState(""),[D,me]=l.useState(""),[J,S]=l.useState(0),[X,I]=l.useState(),[ne,pe]=l.useState([]),[se,te]=l.useState([]),[m,O]=l.useState({status:"init",id:"0"}),[re,G]=l.useState(null),[ce,ge]=l.useState([]),[he,ae]=l.useState(!1);l.useState([]);const[W,Q]=l.useState("Absent"),[x,N]=l.useState(5),[b,f]=l.useState(0),[y,u]=l.useState([]),[o,L]=l.useState([]),[P,ue]=l.useState([]),[B,fe]=l.useState({}),[le,j]=l.useState(!1),[oe,M]=l.useState(""),[F,V]=l.useState(""),[Ne,de]=l.useState(!1),[_,U]=l.useState(null),[p,Ie]=l.useState(null),[be,Ce]=l.useState(null),[Fe,ie]=l.useState(null);l.useState(null);const je=v().format("YYYY-MM-DD"),[Te,Ue]=l.useState([]),[xe,ze]=l.useState(null);let{batchId:w}=_e();w=w.split("&")[0];const De=async()=>{try{const s=await fetch(`${es.REACT_APP_DOMAIN}/api/batches/batchDetails/${w}?access_token=${c==null?void 0:c.accessToken}`),t=await s.json();if(t.statusCode!==200)throw t&&(t==null?void 0:t.message)||s.statusText;{let n=t.data;me(n.tenantKey)}}catch(s){console.log(s)}};l.useEffect(()=>{De()},[w]),l.useEffect(()=>{D==="10d08176f2e74175ba526ab1b23beecc"?Y("kotak"):D==="ac7153df458aefc2a93fd1a4f7513147"?Y("axis"):D==="uq15v1axohhui5ytm2mxhdzcuywuakj7"&&Y("idfc")},[D]),l.useEffect(()=>{Ve()},[$,x,J,m]),l.useEffect(()=>{We()},[be]);const Ve=async()=>{var n;var s=await fetch(`http://15.206.237.179:8000/api/userBatchAnswers/listOfReport/${w}?access_token=${c==null?void 0:c.accessToken}`,{headers:{"Content-Type":"application/x-www-form-urlencoded"},method:"GET"});const t=await s.json();if(s.ok)t.code===404?console.error(t.msg):(Z(t.data),I(((n=t==null?void 0:t.data)==null?void 0:n.length)||0));else{const r=t&&t.message||s.statusText;return Promise.reject(r)}},we=X-5,Pe=()=>{b>=we||f(b+1)},qe=async()=>{try{var s=await fetch(`http://15.206.237.179:8000/api/batchAttendences/all/${w}?access_token=${c==null?void 0:c.accessToken}`,{headers:{"Content-Type":"application/x-www-form-urlencoded"},method:"GET"});const t=await s.json();if(s.ok)t.code===404?console.error(t.msg):ge(t.data.allBatchAttendence);else{const n=t&&t.message||s.statusText;return Promise.reject(n)}}catch(t){console.log(t)}},Ee=async()=>{var s,t;try{const r=encodeURIComponent(JSON.stringify({limit:x,start:b,search:$})),a=await(await fetch(`http://15.206.237.179:8000/api/batchAssessments/listAssessmentofLiveTrackingLinks/${w}?filter=${r}&access_token=${c==null?void 0:c.accessToken}`)).json();(a==null?void 0:a.status)==="success"&&(L((s=a==null?void 0:a.data)==null?void 0:s.result),console.log("data-----------------fetchBatchPeopleList ---------is "+((t=a==null?void 0:a.data)==null?void 0:t.result)))}catch(n){console.log(n)}},Re=async()=>{var s,t;try{const r=encodeURIComponent(JSON.stringify({limit:x,start:b,search:$})),a=await(await fetch(`http://15.206.237.179:8000/api/batchAttendences/listAttendenceofLiveTrackingLinks/${w}?filter=${r}&access_token=${c==null?void 0:c.accessToken}`)).json();(a==null?void 0:a.status)==="success"&&(u((s=a==null?void 0:a.data)==null?void 0:s.result),console.log("data-----------------fetchBatchPeopleList ---------is "+((t=a==null?void 0:a.data)==null?void 0:t.result)))}catch(n){console.log(n)}},$e=()=>{b<=0||f(b-1)};function Ke(s){var t=[];g==null||g.map(n=>(n.batchId==s&&(t=[...t,n]),n)),Ue(t)}const E=()=>{A==="kotak"&&Ee(),Ge(w),ze(w),Ke(w),qe(),Re(),Ye()};l.useEffect(()=>{E()},[w,g,b]);const Je=async(s,t)=>{var n;if(t==="Update"){console.log("==============item---",s);try{let r=new URLSearchParams({assessmentValue:W}).toString();const a=await(await fetch(`http://15.206.237.179:8000/api/userBatchAnswers/updateAssessmentData/${s==null?void 0:s.userBatchAnswerId}?access_token=${c==null?void 0:c.accessToken}`,{headers:{"Content-Type":"application/x-www-form-urlencoded"},method:"PUT",body:r})).json();if((a==null?void 0:a.status)==="failure"||((n=a==null?void 0:a.error)==null?void 0:n.statusCode)===404)return k.error(a==null?void 0:a.message);(a==null?void 0:a.status)==="success"&&(k.success(a==null?void 0:a.message),E())}catch(r){console.log(r)}}else try{let r=new URLSearchParams({branchName:s==null?void 0:s.branchName,employeeId:s==null?void 0:s.employeeId,firstName:s==null?void 0:s.firstName,nomineeId:s==null?void 0:s.nomineeId,referenceCode:s==null?void 0:s.referenceCode,tenantKey:s==null?void 0:s.tenantKey,assessmentValue:W,batchId:s==null?void 0:s.batchId}).toString();const a=await(await fetch(`http://15.206.237.179:8000/api/userBatchAnswers/addAssessmentData?access_token=${c==null?void 0:c.accessToken}`,{headers:{"Content-Type":"application/x-www-form-urlencoded"},method:"POST",body:r})).json();if(a.status==="failure")return k.error(a==null?void 0:a.message);E(),k.success("Assessment Data submitted successful."),M(""),U(null)}catch(r){console.log(r)}finally{de(!1)}},Xe=async s=>{s.preventDefault(),console.log("=================consolellg",p);try{let t=new URLSearchParams({branchName:p==null?void 0:p.branchName,employeeId:p==null?void 0:p.employeeId,firstName:p==null?void 0:p.firstName,nomineeId:p==null?void 0:p.nomineeId,referenceCode:p==null?void 0:p.referenceCode,tenantKey:p==null?void 0:p.tenantKey,assessmentValue:W,batchId:p==null?void 0:p.batchId}).toString();const r=await(await fetch(`http://15.206.237.179:8000/api/userBatchAnswers/addAssessmentData?access_token=${c==null?void 0:c.accessToken}`,{headers:{"Content-Type":"application/x-www-form-urlencoded"},method:"POST",body:t})).json();if(r.status==="failure")return k.error(r==null?void 0:r.message);E(),k.success("Assessment Data submitted successful."),M(""),U(null)}catch(t){console.log(t)}finally{de(!1)}},Be=async(s,t)=>{var n,r;if(console.log("------------attdenceData d",s),t==="Update")try{let i=new URLSearchParams({attendenceStatus:W}).toString();const d=await(await fetch(`http://15.206.237.179:8000/api/batchAttendences/updateAttendence/${s==null?void 0:s.attendenceId}?access_token=${c==null?void 0:c.accessToken}`,{headers:{"Content-Type":"application/x-www-form-urlencoded"},method:"PUT",body:i})).json();if((d==null?void 0:d.status)==="failure"||((n=d==null?void 0:d.error)==null?void 0:n.statusCode)===404)return k.error(d==null?void 0:d.msg);((r=d==null?void 0:d.result)==null?void 0:r.status)==="success"&&(k.success("Attendence submitted successful."),E())}catch(i){console.log(i)}else try{let i=new URLSearchParams({email:s==null?void 0:s.email,employeeId:s==null?void 0:s.employeeId,batchId:s==null?void 0:s.batchId}).toString();const d=await(await fetch(`http://15.206.237.179:8000/api/batchAttendences/addAttendenceforAxis?access_token=${c==null?void 0:c.accessToken}`,{headers:{"Content-Type":"application/x-www-form-urlencoded"},method:"POST",body:i})).json();if(d.status==="failure")return k.error(d==null?void 0:d.msg);E(),k.success("Attendence submitted successful."),M(""),U(null)}catch(i){console.log(i)}finally{de(!1)}},Ge=async s=>{try{const t=await fetch(`http://15.206.237.179:8000/api/batches/batchDetails/${s}?access_token=${c==null?void 0:c.accessToken}`),n=await t.json();if(n.statusCode!==200)throw n&&(n==null?void 0:n.message)||t.statusText;fe(n==null?void 0:n.data)}catch(t){console.log(t)}},Ye=()=>{for(var s=v(B==null?void 0:B.batchStartDate),t=v(B==null?void 0:B.batchEndDate),n=[],r=s.clone();r.isSameOrBefore(t);){if(r.day()!==0){var i=r.format("YYYY-MM-DD");n.push(i)}r.add(1,"days")}ue(n)},Oe=async s=>{if(de(!0),s.preventDefault(),!_)k.error("Employee not found");else try{let t=new URLSearchParams({employeeId:F,email:oe,batchId:xe,attendenceDate:v(Fe).format("YYYY-MM-DD")}).toString();const r=await(await fetch(`http://15.206.237.179:8000/api/batchAttendences/addDateWiseAttendence?access_token=${c==null?void 0:c.accessToken}`,{headers:{"Content-Type":"application/x-www-form-urlencoded"},method:"POST",body:t})).json();if((r==null?void 0:r.status)==="failure")return s.target.reset(),V(""),M(""),k.error(r==null?void 0:r.msg);k.success("Attendence submitted successful."),s.target.reset(),V(""),M("")}catch(t){console.log(t)}finally{U(null),de(!1),A==="kotak"?ae(!he):j(!le)}},ve=async s=>{var t,n,r;U(null),s.preventDefault();try{let i;A==="idfc"?i=encodeURIComponent(JSON.stringify({email:oe,batchId:w})):i=encodeURIComponent(JSON.stringify({employeeId:F,batchId:w}));const d=await(await fetch(`http://15.206.237.179:8000/api/nominees/getNomineeById?filter=${i}&access_token=${c==null?void 0:c.accessToken}`)).json();if(Object.keys(d==null?void 0:d.data).length)console.log(d,"fetchEmployeeDetails"),U({email:(t=d==null?void 0:d.data)==null?void 0:t.email,name:((n=d==null?void 0:d.data)==null?void 0:n.firstName)+" "+((r=d==null?void 0:d.data)==null?void 0:r.lastName)}),Ie(d==null?void 0:d.data);else throw Error("Employee not found")}catch(i){k.error(i==null?void 0:i.message)}},We=async()=>{var s,t;if(be!=="")try{const r=encodeURIComponent(JSON.stringify({limit:x,start:b,search:$})),a=await(await fetch(`http://15.206.237.179:8000/api/batchAttendences/daysWiseAttendenceofLiveTrackingLinks/${w}?date=${be}&filter=${r}&access_token=${c==null?void 0:c.accessToken}`)).json();(a==null?void 0:a.status)==="success"&&(u((s=a==null?void 0:a.data)==null?void 0:s.result),console.log("data-----------------fetchBatchPeopleList ---------is "+((t=a==null?void 0:a.data)==null?void 0:t.result)))}catch(n){console.log(n)}else return!1};return l.useEffect(()=>{B&&Ye()},[B]),l.useEffect(()=>{xe&&(A==="kotak"?Ee():Re())},[xe,x,b,$]),e.jsx(e.Fragment,{children:A==="kotak"?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col w-full mt-5 px-6 h-[10rem]",children:[T?e.jsx("div",{className:"fixed z-30  w-full h-screen top-0 left-0 items-center bg-gray-800/40",children:e.jsx("div",{className:"flex w-full items-start justify-center px-6  h-screen mt-20",children:e.jsx("div",{className:"relative mx-10  flex flex-col  w-full items-center justify-center bg-white rounded-lg shadow-md px-8 py-2",children:e.jsxs("div",{id:"journal-scroll",className:"w-full h-[30rem] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mt-5 mb-4",children:[e.jsx("h5",{className:"text-xl font-semibold  leading-none text-gray-700 ",children:"Add Assessment"}),e.jsxs("div",{className:"flex",children:[e.jsx("button",{className:"px-1 py-1 mr-1 text-white text-sm font-medium bg-green-500 items-center rounded-md w-80",onClick:()=>j(!0),children:"Add Assessment"}),e.jsx("div",{className:"cursor-pointer mt-2",onClick:E,children:e.jsx(ke,{size:30})}),e.jsx(q,{onClick:()=>{N(5),f(0),E(),K(!1),h(!1)},className:"cursor-pointer text-xl font-semibold text-black ml-10",size:50})]})]}),e.jsx("div",{className:"relative overflow-x-auto shadow-md sm:rounded-lg mt-3",children:e.jsxs("table",{className:"w-full text-sm text-left text-gray-500",children:[e.jsx("thead",{className:"text-md m-4 bg-sky-600 text-white",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-3 py-2",children:"Name"}),e.jsx("th",{scope:"col",className:"px-3 py-2",children:"Employee Id"}),e.jsx("th",{scope:"col",className:"px-3 py-2",children:"Status"}),e.jsx("th",{scope:"col",className:"px-3 py-2",children:"Marks"}),e.jsx("th",{scope:"col",className:"px-3 py-2",children:"Assessment"}),e.jsx("th",{scope:"col",className:"px-3 py-2",children:"Assessment Date"})]})}),o==null?void 0:o.map((s,t)=>{var n;return console.log("attendence=====================",o),e.jsx("tbody",{children:e.jsxs("tr",{className:"bg-white border-b  ",children:[e.jsx("td",{className:"px-3 py-2 text-gray-900",children:s!=null&&s.firstName?s==null?void 0:s.firstName:s==null?void 0:s.fullName}),e.jsx("td",{className:"px-3 py-2 text-gray-900",children:s!=null&&s.nomineeAttendance?(n=s==null?void 0:s.nomineeAttendance)==null?void 0:n.employeeId:s==null?void 0:s.employeeId}),e.jsx("td",{className:"px-1 py-2",children:(s==null?void 0:s.assessmentStatus)==="submitted"?e.jsx("span",{className:"bg-green-100 text-green-800 text-sm font-medium mr-2 px-2.5 py-0.5 rounded dark:bg-green-900 dark:text-green-600",children:"Submitted"}):e.jsx("span",{className:"bg-red-100 text-red-800 text-sm font-medium mr-2 px-2.5 py-0.5 rounded dark:bg-red-900 dark:text-red-600",children:"Not Submitted"})}),e.jsx("td",{className:"px-3 py-2 text-gray-900",children:s!=null&&s.obtainMarks?s==null?void 0:s.obtainMarks:"-"}),e.jsxs("td",{className:"flex items-center px-1 py-2",children:[e.jsx("input",{type:"text",className:"px-2 py-2 border w-3 focus:ring-gray-500 focus:border-gray-900 w-full sm:text-sm border-gray-300 rounded-md focus:outline-none text-gray-600",onChange:r=>{var i;return Q((i=r==null?void 0:r.target)==null?void 0:i.value)}}),e.jsx("span",{className:"bg-blue-500 text-xs font-medium ml-2 mr-2 px-2 py-2 rounded text-white",onClick:r=>Je(s,s!=null&&s.userBatchAnswerId?"Update":"Add"),children:s!=null&&s.userBatchAnswerId?"Update":"Add"})]}),e.jsx("td",{className:"px-3 py-4 text-gray-900",children:s!=null&&s.createdDate?v(s==null?void 0:s.createdDate).format("YYYY-MM-DD"):"-"})]})},t+1)})]})}),e.jsxs("div",{className:"flex flex-row justify-around mt-5 items-center  ",children:[e.jsx("span",{className:"text-sm flex text-gray-700 "}),e.jsx("div",{className:"flex",children:e.jsxs("div",{className:"dropdown flex items-center relative",children:[e.jsx("p",{children:"Show"}),e.jsx("span",{className:"bg-gray-100 text-gray-700 mx-2  font-normal tracking-wide rounded inline-flex items-center",children:e.jsxs("select",{className:"bg-transparent px-3 py-2  outline-none ",onChange:s=>{N(s.target.value),f(0)},children:[e.jsx("option",{className:"mr-1",children:"5"}),e.jsx("option",{className:"mr-1",children:"10"}),e.jsx("option",{className:"mr-1",children:"20"}),e.jsx("option",{className:"mr-1",children:"30"}),e.jsx("option",{className:"mr-1",children:"40"}),e.jsx("option",{className:"mr-1",children:"50"}),e.jsx("option",{className:"mr-1",children:"100"}),e.jsx("option",{className:"mr-1",children:"250"}),e.jsx("option",{className:"mr-1",children:"500"})]})}),e.jsx("p",{children:"Entries"})]})})]})]})})})}):null,C?e.jsx("div",{className:"fixed z-30  w-full h-screen top-0 left-0 items-center bg-gray-800/40",children:e.jsx("div",{className:"flex w-full items-start justify-center px-6  h-screen mt-20",children:e.jsx("div",{className:"relative mx-10  flex flex-col  w-full items-center justify-center bg-white rounded-lg shadow-md px-8 py-2",children:e.jsxs("div",{id:"journal-scroll",className:"w-full h-[30rem] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mt-5 mb-4",children:[e.jsx("h5",{className:"text-xl font-semibold  leading-none text-gray-700 ",children:"Attendence List"}),e.jsxs("div",{className:"flex",children:[e.jsxs("select",{onChange:s=>{var t;Ce((t=s==null?void 0:s.target)==null?void 0:t.value)},className:"px-4 py-2 mr-2 border focus:ring-gray-500 focus:border-gray-900 w-full sm:text-sm border-gray-300 rounded-md focus:outline-none text-gray-600",children:[e.jsx("option",{value:"",children:"Select Date"}),P.map((s,t)=>e.jsx("option",{value:s,disabled:v(s).isAfter(je),children:v(s).format("YYYY-MM-DD")},t))]}),e.jsx("button",{className:"px-1 py-1 mr-1 text-white text-sm font-medium bg-green-500 items-center rounded-md w-80",onClick:()=>ae(!0),children:"Add Attendence"}),e.jsx("div",{className:"cursor-pointer mt-2",onClick:E,children:e.jsx(ke,{size:30})}),e.jsx(q,{onClick:()=>{N(5),f(0),E(),h(!1)},className:"cursor-pointer text-xl font-semibold text-black ml-10",size:50})]})]}),e.jsx("div",{className:"relative overflow-x-auto shadow-md sm:rounded-lg mt-3",children:e.jsxs("table",{className:"w-full text-sm text-left text-gray-500",children:[e.jsx("thead",{className:"text-md m-4 bg-sky-600 text-white",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-3 py-2",children:"Name"}),e.jsx("th",{scope:"col",className:"px-3 py-2",children:"Employee Id"}),e.jsx("th",{scope:"col",className:"px-3 py-2",children:"BatchStatus"}),e.jsx("th",{scope:"col",className:"px-3 py-2",children:"Status"}),e.jsx("th",{scope:"col",className:"px-3 py-2",children:"Attendance"}),e.jsx("th",{scope:"col",className:"px-3 py-2",children:"Attendance Date"})]})}),y==null?void 0:y.map((s,t)=>{var n,r;return console.log("attendence=====================",y),e.jsx("tbody",{children:e.jsxs("tr",{className:"bg-white border-b  ",children:[e.jsx("td",{className:"px-3 py-2 text-gray-900",children:s!=null&&s.nomineeAttendance?(n=s==null?void 0:s.nomineeAttendance)==null?void 0:n.firstName:s==null?void 0:s.firstName}),e.jsx("td",{className:"px-3 py-2 text-gray-900",children:s!=null&&s.nomineeAttendance?(r=s==null?void 0:s.nomineeAttendance)==null?void 0:r.employeeId:s==null?void 0:s.employeeId}),e.jsx("td",{className:"px-3 py-2 text-gray-900",children:(s==null?void 0:s.batchNominees)==="Outside"?e.jsx("span",{className:"bg-gray-300 text-green-800 text-sm font-medium mr-2 px-2.5 py-0.5 rounded dark:bg-green-900 dark:text-green-600",children:"Outside"}):e.jsx("span",{className:"bg-cyan-100 text-red-800 text-sm font-medium mr-2 px-2.5 py-0.5 rounded dark:bg-red-900 dark:text-red-600",children:"Inside"})}),e.jsx("td",{className:"px-1 py-2",children:(s==null?void 0:s.attendenceStatus)==="Present"?e.jsx("span",{className:"bg-green-100 text-green-800 text-sm font-medium mr-2 px-2.5 py-0.5 rounded dark:bg-green-900 dark:text-green-600",children:"Present"}):e.jsx("span",{className:"bg-red-100 text-red-800 text-sm font-medium mr-2 px-2.5 py-0.5 rounded dark:bg-red-900 dark:text-red-600",children:"Absent"})}),e.jsxs("td",{className:"flex items-center px-1 py-2",children:[e.jsxs("select",{className:"px-2 py-2 border focus:ring-gray-500 focus:border-gray-900 w-full sm:text-sm border-gray-300 rounded-md focus:outline-none text-gray-600",onChange:i=>{var a;return Q((a=i==null?void 0:i.target)==null?void 0:a.value)},children:[e.jsx("option",{value:"Present",children:"Present"}),e.jsx("option",{value:"Absent",children:"Absent"})]}),e.jsx("span",{className:"bg-blue-500 text-xs font-medium ml-2 mr-2 px-2 py-2 rounded text-white",onClick:i=>Be(s,s!=null&&s.attendenceId?"Update":"Add"),children:s!=null&&s.attendenceId?"Update":"Add"})]}),e.jsx("td",{className:"px-3 py-4 text-gray-900",children:s!=null&&s.attendenceDate?v(s==null?void 0:s.attendenceDate).format("YYYY-MM-DD"):"-"})]})},t+1)})]})}),e.jsxs("div",{className:"flex flex-row justify-around mt-5 items-center  ",children:[e.jsx("span",{className:"text-sm flex text-gray-700 "}),e.jsx("div",{className:"flex",children:e.jsxs("div",{className:"dropdown flex items-center relative",children:[e.jsx("p",{children:"Show"}),e.jsx("span",{className:"bg-gray-100 text-gray-700 mx-2  font-normal tracking-wide rounded inline-flex items-center",children:e.jsxs("select",{className:"bg-transparent px-3 py-2  outline-none ",onChange:s=>{N(s.target.value),f(0)},children:[e.jsx("option",{className:"mr-1",children:"5"}),e.jsx("option",{className:"mr-1",children:"10"}),e.jsx("option",{className:"mr-1",children:"20"}),e.jsx("option",{className:"mr-1",children:"30"}),e.jsx("option",{className:"mr-1",children:"40"}),e.jsx("option",{className:"mr-1",children:"50"}),e.jsx("option",{className:"mr-1",children:"100"}),e.jsx("option",{className:"mr-1",children:"250"}),e.jsx("option",{className:"mr-1",children:"500"})]})}),e.jsx("p",{children:"Entries"})]})})]})]})})})}):null,H?e.jsx("div",{className:"fixed z-30  w-full h-screen top-0 left-0 items-center bg-gray-800/40",children:e.jsx("div",{className:"flex w-full items-start mt-4 justify-center px-6  h-screen",children:e.jsxs("div",{className:"relative mx-10  flex flex-col  w-full items-center justify-center bg-white rounded-lg shadow-md px-8 py-2",children:[e.jsx("div",{className:"absolute z-30 bg-white flex w-full justify-end items-end top-0  p-4 ",children:e.jsx(q,{onClick:()=>R(!1),className:"cursor-pointer text-xl font-semibold text-black "})}),e.jsx("div",{className:"w-full h-[34rem]",children:e.jsx(Me,{excelData:se,setUpdater:O,setSyncId:G})})]})})}):null,e.jsx(Le,{assessmentsList:Te,next:Pe,previous:$e,pgindex:we,setExcelData:te,client:A,page:J,totalCount:X,setLimit:N,setPage:S,setSearch:ee,id:xe,setBatchPop:R,setChartData:pe,updater:m,setUpdater:O,syncId:re,setSyncId:G,setAssessmentPop:K,batchAttendences:ce,setAttendancePop:h,attendancePop:C}),le&&e.jsx("div",{className:"fixed z-30  w-full h-screen top-0 left-0 items-center bg-gray-800/40",children:e.jsx("div",{className:"flex w-full items-center mt-20 justify-center ",children:e.jsxs("div",{className:"relative mx-10 flex flex-col items-center justify-center bg-white rounded-lg shadow-md px-8 py-2",children:[e.jsx("div",{className:"absolute z-30 bg-white flex w-full justify-end items-end top-0  p-2 ",children:e.jsx(q,{onClick:()=>{ie(null),V(""),U(""),Ie(""),j(!1)},className:"cursor-pointer text-2xl font-semibold text-black "})}),e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"flex items-center justify-center p-4",children:e.jsxs("div",{className:"rounded overflow-hidden shadow-lg p-5 bg-[white] ",children:[e.jsx("h1",{className:"text-xl text-700",children:"Add Assessment Form"}),e.jsx("br",{}),e.jsx("form",{onSubmit:ve,children:e.jsxs("div",{className:"w-100 flex flex-wrap",children:[e.jsxs("div",{className:"px-2",children:[e.jsx("label",{className:"leading-loose",children:"Employee Id"}),e.jsx("input",{type:"text",name:"email",className:"px-4 py-2 border focus:ring-gray-500 focus:border-gray-900 w-full sm:text-sm border-gray-300 rounded-md focus:outline-none text-gray-600",placeholder:"Provide Employee Id",required:!0,value:F,onChange:s=>V(s.target.value)})]}),e.jsx("div",{className:"py-1 mt-7 space-x-4",children:e.jsx("button",{type:"submit",className:"bg-[#003366] flex-inline justify-center items-center text-white px-4 py-1 rounded-md focus:outline-none",children:"Find"})})]})}),e.jsxs("form",{onSubmit:Xe,children:[e.jsxs("div",{className:"px-2",children:[e.jsx("label",{className:"leading-loose",children:"Full name"}),e.jsx("input",{name:"fullName",className:"px-4 py-2 border focus:ring-gray-500 focus:border-gray-900 w-full sm:text-sm border-gray-300 rounded-md focus:outline-none text-gray-600",placeholder:"Provide full name",required:!0,disabled:!0,defaultValue:p==null?void 0:p.firstName})]}),e.jsxs("div",{className:"px-2",children:[e.jsx("label",{className:"leading-loose",children:"Assessment Data"}),e.jsx("input",{name:"assessmentValue",className:"px-4 py-2 border focus:ring-gray-500 focus:border-gray-900 w-full sm:text-sm border-gray-300 rounded-md focus:outline-none text-gray-600",placeholder:"Provide data",required:!0,onChange:s=>{var t;return Q((t=s==null?void 0:s.target)==null?void 0:t.value)}})]}),e.jsx("div",{className:"py-4  space-x-4 px-2",children:e.jsx("button",{className:"bg-[#003366] flex-inline justify-center items-center text-white px-4 py-2 rounded-md focus:outline-none",disabled:Ne,type:"submit",children:"Submit"})})]})]})})})]})})}),he&&e.jsx("div",{className:"fixed z-30  w-full h-screen top-0 left-0 items-center bg-gray-800/40",children:e.jsx("div",{className:"flex w-full items-center mt-20 justify-center ",children:e.jsxs("div",{className:"relative mx-10 flex flex-col items-center justify-center bg-white rounded-lg shadow-md px-8 py-2",children:[e.jsx("div",{className:"absolute z-30 bg-white flex w-full justify-end items-end top-0  p-2 ",children:e.jsx(q,{onClick:()=>{ie(null),V(""),U(""),ae(!1)},className:"cursor-pointer text-2xl font-semibold text-black "})}),e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"flex items-center justify-center p-4",children:e.jsxs("div",{className:"rounded overflow-hidden shadow-lg p-5 bg-[white] ",children:[e.jsx("h1",{className:"text-xl text-700",children:"Attendence Form"}),e.jsx("br",{}),e.jsx("form",{onSubmit:ve,children:e.jsxs("div",{className:"w-100 flex flex-wrap",children:[e.jsxs("div",{className:"px-2",children:[e.jsx("label",{className:"leading-loose",children:"Employee Id"}),e.jsx("input",{type:"text",name:"email",className:"px-4 py-2 border focus:ring-gray-500 focus:border-gray-900 w-full sm:text-sm border-gray-300 rounded-md focus:outline-none text-gray-600",placeholder:"Provide Employee Id",required:!0,value:F,onChange:s=>V(s.target.value)})]}),e.jsx("div",{className:"py-1 mt-7 space-x-4",children:e.jsx("button",{type:"submit",className:"bg-[#003366]  flex-inline justify-center items-center text-white px-4 py-1 rounded-md focus:outline-none",children:"Find"})})]})}),e.jsxs("form",{onSubmit:Oe,children:[e.jsxs("div",{className:"px-2",children:[e.jsx("label",{className:"leading-loose",children:"Full name"}),e.jsx("input",{name:"fullName",className:"px-4 py-2 border focus:ring-gray-500 focus:border-gray-900 w-full sm:text-sm border-gray-300 rounded-md focus:outline-none text-gray-600",placeholder:"Provide full name",required:!0,disabled:!0,defaultValue:_==null?void 0:_.name})]}),e.jsxs("div",{className:"px-2",children:[e.jsx("label",{className:"leading-loose",children:"Date"}),e.jsxs("select",{required:!0,onChange:s=>{var t;ie((t=s==null?void 0:s.target)==null?void 0:t.value)},className:"px-4 py-2 mr-2 border focus:ring-gray-500 focus:border-gray-900 w-full sm:text-sm border-gray-300 rounded-md focus:outline-none text-gray-600",children:[e.jsx("option",{value:"",children:"Select Date"}),P.map((s,t)=>e.jsx("option",{value:s,disabled:v(s).isAfter(je),children:v(s).format("YYYY-MM-DD")},t))]})]}),e.jsx("div",{className:"py-4  space-x-4 px-2",children:e.jsx("button",{type:"submit",className:"bg-[#003366]  flex-inline justify-center items-center text-white px-4 py-2 rounded-md focus:outline-none",disabled:Ne,children:"Submit"})})]})]})})})]})})})]})}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col w-full mt-5 px-6 h-[10rem]",children:[C?e.jsx("div",{className:"fixed z-30  w-full h-screen top-0 left-0 items-center bg-gray-800/40",children:e.jsx("div",{className:"flex w-full items-start justify-center px-6  h-screen mt-20",children:e.jsx("div",{className:"relative mx-10  flex flex-col  w-full items-center justify-center bg-white rounded-lg shadow-md px-8 py-2",children:e.jsxs("div",{id:"journal-scroll",className:"w-full h-[30rem] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mt-5 mb-4",children:[e.jsx("h5",{className:"text-xl font-semibold  leading-none text-gray-700 ",children:"Attendence List"}),e.jsxs("div",{className:"flex",children:[e.jsxs("select",{onChange:s=>{var t;Ce((t=s==null?void 0:s.target)==null?void 0:t.value)},className:"px-4 py-2 mr-2 border focus:ring-gray-500 focus:border-gray-900 w-full sm:text-sm border-gray-300 rounded-md focus:outline-none text-gray-600",children:[e.jsx("option",{value:"",children:"Select Date"}),P.map((s,t)=>e.jsx("option",{value:s,disabled:v(s).isAfter(je),children:v(s).format("YYYY-MM-DD")},t))]}),e.jsx("button",{className:"px-1 py-1 mr-1 text-white text-sm font-medium bg-green-500 items-center rounded-md w-80",onClick:()=>j(!0),children:"Add Attendence"}),e.jsx("div",{className:"cursor-pointer mt-2",onClick:E,children:e.jsx(ke,{size:30})}),e.jsx(q,{onClick:()=>{N(5),f(0),E(),h(!1)},className:"cursor-pointer text-xl font-semibold text-black ml-10",size:50})]})]}),e.jsx("div",{className:"relative overflow-x-auto shadow-md sm:rounded-lg mt-3",children:e.jsxs("table",{className:"w-full text-sm text-left text-gray-500",children:[e.jsx("thead",{className:"text-md m-4 bg-sky-600 text-white",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-3 py-2",children:"Name"}),A==="axis"?e.jsx("th",{scope:"col",className:"px-3 py-2",children:"Employee Id"}):null,e.jsx("th",{scope:"col",className:"px-3 py-2",children:"Email"}),e.jsx("th",{scope:"col",className:"px-3 py-2",children:"BatchStatus"}),e.jsx("th",{scope:"col",className:"px-3 py-2",children:"Status"}),e.jsx("th",{scope:"col",className:"px-3 py-2",children:"Attendance"}),e.jsx("th",{scope:"col",className:"px-3 py-2",children:"Attendance Date"})]})}),y==null?void 0:y.map((s,t)=>{var n,r,i;return console.log("attendence=====================",y),e.jsx("tbody",{children:e.jsxs("tr",{className:"bg-white border-b  ",children:[e.jsx("td",{className:"px-3 py-2 text-gray-900",children:s!=null&&s.nomineeAttendance?(n=s==null?void 0:s.nomineeAttendance)==null?void 0:n.firstName:s==null?void 0:s.firstName}),A==="axis"?e.jsx("td",{className:"px-3 py-2 text-gray-900",children:s!=null&&s.nomineeAttendance?(r=s==null?void 0:s.nomineeAttendance)==null?void 0:r.employeeId:s==null?void 0:s.employeeId}):null,e.jsx("td",{className:"px-3 py-2 text-gray-900",children:s!=null&&s.nomineeAttendance?(i=s==null?void 0:s.nomineeAttendance)==null?void 0:i.email:s==null?void 0:s.email}),e.jsx("td",{className:"px-3 py-2 text-gray-900",children:(s==null?void 0:s.batchNominees)==="Outside"?e.jsx("span",{className:"bg-gray-300 text-green-800 text-sm font-medium mr-2 px-2.5 py-0.5 rounded dark:bg-green-900 dark:text-green-600",children:"Outside"}):e.jsx("span",{className:"bg-cyan-100 text-red-800 text-sm font-medium mr-2 px-2.5 py-0.5 rounded dark:bg-red-900 dark:text-red-600",children:"Inside"})}),e.jsx("td",{className:"px-1 py-2",children:(s==null?void 0:s.attendenceStatus)==="Present"?e.jsx("span",{className:"bg-green-100 text-green-800 text-sm font-medium mr-2 px-2.5 py-0.5 rounded dark:bg-green-900 dark:text-green-600",children:"Present"}):e.jsx("span",{className:"bg-red-100 text-red-800 text-sm font-medium mr-2 px-2.5 py-0.5 rounded dark:bg-red-900 dark:text-red-600",children:"Absent"})}),e.jsxs("td",{className:"flex items-center px-1 py-2",children:[e.jsxs("select",{className:"px-2 py-2 border focus:ring-gray-500 focus:border-gray-900 w-full sm:text-sm border-gray-300 rounded-md focus:outline-none text-gray-600",onChange:a=>{var d;return Q((d=a==null?void 0:a.target)==null?void 0:d.value)},children:[e.jsx("option",{value:"Present",children:"Present"}),e.jsx("option",{value:"Absent",children:"Absent"})]}),e.jsx("span",{className:"bg-blue-500 text-xs font-medium ml-2 mr-2 px-2 py-2 rounded text-white",onClick:a=>Be(s,s!=null&&s.attendenceId?"Update":"Add"),children:s!=null&&s.attendenceId?"Update":"Add"})]}),e.jsx("td",{className:"px-3 py-4 text-gray-900",children:s!=null&&s.attendenceDate?v(s==null?void 0:s.attendenceDate).format("YYYY-MM-DD"):"-"})]})},t+1)})]})}),e.jsxs("div",{className:"flex flex-row justify-around mt-5 items-center  ",children:[e.jsx("span",{className:"text-sm flex text-gray-700 "}),e.jsx("div",{className:"flex",children:e.jsxs("div",{className:"dropdown flex items-center relative",children:[e.jsx("p",{children:"Show"}),e.jsx("span",{className:"bg-gray-100 text-gray-700 mx-2  font-normal tracking-wide rounded inline-flex items-center",children:e.jsxs("select",{className:"bg-transparent px-3 py-2  outline-none ",onChange:s=>{N(s.target.value),f(0)},children:[e.jsx("option",{className:"mr-1",children:"5"}),e.jsx("option",{className:"mr-1",children:"10"}),e.jsx("option",{className:"mr-1",children:"20"}),e.jsx("option",{className:"mr-1",children:"30"}),e.jsx("option",{className:"mr-1",children:"40"}),e.jsx("option",{className:"mr-1",children:"50"}),e.jsx("option",{className:"mr-1",children:"100"}),e.jsx("option",{className:"mr-1",children:"250"}),e.jsx("option",{className:"mr-1",children:"500"})]})}),e.jsx("p",{children:"Entries"})]})})]})]})})})}):null,H?e.jsx("div",{className:"fixed z-30  w-full h-screen top-0 left-0 items-center bg-gray-800/40",children:e.jsx("div",{className:"flex w-full items-start mt-4 justify-center px-6  h-screen",children:e.jsxs("div",{className:"relative mx-10  flex flex-col  w-full items-center justify-center bg-white rounded-lg shadow-md px-8 py-2",children:[e.jsx("div",{className:"absolute z-30 bg-white flex w-full justify-end items-end top-0  p-4 ",children:e.jsx(q,{onClick:()=>R(!1),className:"cursor-pointer text-xl font-semibold text-black "})}),e.jsx("div",{className:"w-full h-[34rem]",children:e.jsx(Me,{excelData:se,setUpdater:O,setSyncId:G})})]})})}):null,e.jsx(Le,{assessmentsList:Te,next:Pe,client:A,previous:$e,pgindex:we,setExcelData:te,page:J,totalCount:X,setLimit:N,setPage:S,setSearch:ee,id:xe,setBatchPop:R,setChartData:pe,updater:m,setUpdater:O,syncId:re,setSyncId:G,batchAttendences:ce,setAttendancePop:h,attendancePop:C}),le&&e.jsx("div",{className:"fixed z-30  w-full h-screen top-0 left-0 items-center bg-gray-800/40",children:e.jsx("div",{className:"flex w-full items-center mt-20 justify-center ",children:e.jsxs("div",{className:"relative mx-10 flex flex-col items-center justify-center bg-white rounded-lg shadow-md px-8 py-2",children:[e.jsx("div",{className:"absolute z-30 bg-white flex w-full justify-end items-end top-0  p-2 ",children:e.jsx(q,{onClick:()=>{ie(null),V(""),U(""),j(!1)},className:"cursor-pointer text-2xl font-semibold text-black "})}),e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"flex items-center justify-center p-4",children:e.jsxs("div",{className:"rounded overflow-hidden shadow-lg p-5 bg-[white] ",children:[e.jsx("h1",{className:"text-xl text-700",children:"Attendence Form"}),e.jsx("br",{}),e.jsx("form",{onSubmit:ve,children:e.jsxs("div",{className:"w-100 flex flex-wrap",children:[A==="axis"?e.jsxs("div",{className:"px-2",children:[e.jsx("label",{className:"leading-loose",children:"Employee Id"}),e.jsx("input",{type:"text",name:"email",className:"px-4 py-2 border focus:ring-gray-500 focus:border-gray-900 w-full sm:text-sm border-gray-300 rounded-md focus:outline-none text-gray-600",placeholder:"Provide Employee Id",required:!0,value:F,onChange:s=>V(s.target.value)})]}):e.jsxs("div",{className:"px-2",children:[e.jsx("label",{className:"leading-loose",children:"Email"}),e.jsx("input",{type:"text",name:"email",className:"px-4 py-2 border focus:ring-gray-500 focus:border-gray-900 w-full sm:text-sm border-gray-300 rounded-md focus:outline-none text-gray-600",placeholder:"Provide Email",required:!0,value:oe,onChange:s=>M(s.target.value)})]}),e.jsx("div",{className:"py-1 mt-7 space-x-4",children:e.jsx("button",{type:"submit",className:"bg-[#97144c] flex-inline justify-center items-center text-white px-4 py-1 rounded-md focus:outline-none",children:"Find"})})]})}),e.jsxs("form",{onSubmit:Oe,children:[e.jsxs("div",{className:"px-2",children:[e.jsx("label",{className:"leading-loose",children:"Full name"}),e.jsx("input",{name:"fullName",className:"px-4 py-2 border focus:ring-gray-500 focus:border-gray-900 w-full sm:text-sm border-gray-300 rounded-md focus:outline-none text-gray-600",placeholder:"Provide full name",required:!0,disabled:!0,defaultValue:_==null?void 0:_.name})]}),e.jsxs("div",{className:"px-2",children:[e.jsx("label",{className:"leading-loose",children:"Email"}),e.jsx("input",{name:"email",className:"px-4 py-2 border focus:ring-gray-500 focus:border-gray-900 w-full sm:text-sm border-gray-300 rounded-md focus:outline-none text-gray-600",placeholder:"Provide email",required:!0,disabled:!0,defaultValue:_==null?void 0:_.email})]}),e.jsxs("div",{className:"px-2",children:[e.jsx("label",{className:"leading-loose",children:"Date"}),e.jsxs("select",{required:!0,onChange:s=>{var t;ie((t=s==null?void 0:s.target)==null?void 0:t.value)},className:"px-4 py-2 mr-2 border focus:ring-gray-500 focus:border-gray-900 w-full sm:text-sm border-gray-300 rounded-md focus:outline-none text-gray-600",children:[e.jsx("option",{value:"",children:"Select Date"}),P.map((s,t)=>e.jsx("option",{value:s,disabled:v(s).isAfter(je),children:v(s).format("YYYY-MM-DD")},t))]})]}),e.jsx("div",{className:"py-4  space-x-4 px-2",children:e.jsx("button",{type:"submit",className:"bg-[#97144c] flex-inline justify-center items-center text-white px-4 py-2 rounded-md focus:outline-none",disabled:Ne,children:"Submit"})})]})]})})})]})})})]})})})}export{cs as default};
