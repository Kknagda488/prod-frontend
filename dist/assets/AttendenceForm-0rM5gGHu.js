import{aW as I,p as F,a0 as P,r,j as e,W as D,Q as n}from"./index-PDBVLXQN.js";function q(){const k=I(),g=new URLSearchParams(k.search);F();const E=g.get("programType"),d=g.get("key"),{batchId:c}=P(),[u,x]=r.useState(""),[m,y]=r.useState(""),[j,f]=r.useState(!1),[o,h]=r.useState(""),[a,i]=r.useState(null),[S,b]=r.useState(!1);r.useEffect(()=>{d==="10d08176f2e74175ba526ab1b23beecc"?h("kotak"):d==="ac7153df458aefc2a93fd1a4f7513147"?h("axis"):d==="uq15v1axohhui5ytm2mxhdzcuywuakj7"&&h("idfc")},[d]);const A=async l=>{i(null),l.preventDefault();try{const t=encodeURIComponent(JSON.stringify({email:u,batchId:c})),s=await(await fetch(`http://15.206.237.179:8000/api/nominees/getByEmail?filter=${t}`)).json();if(s.status==="failure")n.error(s.msg);else if(Object.keys(s.data).length)console.log(s,"fetchEmployeeDetails"),i({email:s.data.email,name:s.data.firstName+" "+s.data.lastName}),s.status==="failure"&&n.error(s.msg);else throw s.status==="failure"&&n.error(s.msg),Error("Employee not found")}catch(t){n.error(t==null?void 0:t.msg)}},C=async l=>{if(f(!0),l.preventDefault(),!a)n.error("Employee not found");else try{let t=new URLSearchParams({email:a.email,batchId:c}).toString();const s=await(await fetch("http://15.206.237.179:8000/api/batchAttendences/addAttendenceforIdfc  ",{headers:{"Content-Type":"application/x-www-form-urlencoded"},method:"POST",body:t})).json();if(s.status==="failure")return n.error(s.msg);n.success("Attendence submitted successful."),l.target.reset(),x(""),i(null)}catch(t){console.log(t)}finally{f(!1)}},w=async l=>{i(null),l.preventDefault();try{const t=encodeURIComponent(JSON.stringify({employeeId:m,batchId:c})),s=await(await fetch(`http://15.206.237.179:8000/api/nominees/getNomineeById?filter=${t==null?void 0:t.trim()}`)).json();if(s.status==="success")Object.keys(s.data).length!==0?(console.log(s,"fetchEmployeeDetails"),i({email:s.data.email,name:s.data.firstName+" "+s.data.lastName}),o==="axis"&&N(l)):n.error("Kindly Check Your Employee Id Once Again");else throw Error("Kindly Check Your Employee Id Once Again")}catch(t){n.error(t==null?void 0:t.message)}},N=async l=>{l.preventDefault();try{let t=new URLSearchParams({email:u,employeeId:m,batchId:c}).toString();const s=await(await fetch("http://15.206.237.179:8000/api/batchAttendences/addAttendenceforAxis",{headers:{"Content-Type":"application/x-www-form-urlencoded"},method:"POST",body:t})).json();if(s.status==="failure")return n.error(s.msg);o==="kotak"?n.success(s==null?void 0:s.msg):b(!0)}catch(t){console.log(t)}finally{f(!1)}},v=()=>{b(!1),x(""),i(null)};return e.jsxs(e.Fragment,{children:[o==="idfc"?e.jsxs("div",{children:[e.jsx("div",{className:"flex justify-center my-5",children:e.jsxs("div",{className:"flex mb-4 sm:flex-row flex-col sm:w-full w-[50]  items-center justify-center sm:justify-around px-10",children:[E=="1"?e.jsx(e.Fragment,{children:e.jsx("img",{className:"h-auto sm:mb-0 mb-2",style:{width:"12rem"},src:"/llslogo.png"})}):e.jsx(e.Fragment,{children:e.jsx("img",{className:"h-auto sm:mb-0 mb-2",style:{width:"5rem"},src:"/Retail Pro Logo.png"})}),e.jsx("img",{className:"w-40 h-auto sm:mb-0 mb-3 mt-2 sm:mt-0",src:"/IDFC-logo-website.jpg"})]})}),e.jsx("div",{style:{paddingBottom:"200px"},className:"flex justify-center",children:e.jsx("div",{className:"flex items-center justify-center p-5",children:e.jsxs("div",{className:"rounded overflow-hidden shadow-lg p-5 bg-[white] ",children:[e.jsx("h1",{className:"text-xl text-700",children:"Attendence Form"}),e.jsx("br",{}),e.jsx("form",{onSubmit:A,children:e.jsxs("div",{className:"w-100 flex flex-wrap",children:[e.jsxs("div",{className:"px-2",children:[e.jsx("label",{className:"leading-loose",children:"Email"}),e.jsx("input",{type:"email",name:"email",className:"px-4 py-2 border focus:ring-gray-500 focus:border-gray-900 w-full sm:text-sm border-gray-300 rounded-md focus:outline-none text-gray-600",placeholder:"Provide Email",required:!0,value:u,onChange:l=>x(l.target.value)})]}),e.jsx("div",{className:"py-1 mt-7 space-x-4",children:e.jsx("button",{type:"submit",className:"bg-[#9d1d27] flex-inline justify-center items-center text-white px-4 py-1 rounded-md focus:outline-none",children:"Find"})})]})}),e.jsxs("form",{onSubmit:C,children:["`"," ",e.jsxs("div",{className:"px-2",children:[e.jsx("label",{className:"leading-loose",children:"Full name"}),e.jsx("input",{name:"fullName",className:"px-4 py-2 border focus:ring-gray-500 focus:border-gray-900 w-full sm:text-sm border-gray-300 rounded-md focus:outline-none text-gray-600",placeholder:"Provide full name",required:!0,disabled:!0,defaultValue:a==null?void 0:a.name})]}),"`",e.jsxs("div",{className:"px-2",children:[e.jsx("label",{className:"leading-loose",children:"Email"}),e.jsx("input",{name:"email",className:"px-4 py-2 border focus:ring-gray-500 focus:border-gray-900 w-full sm:text-sm border-gray-300 rounded-md focus:outline-none text-gray-600",placeholder:"Provide email",required:!0,disabled:!0,defaultValue:a==null?void 0:a.email})]}),e.jsx("div",{className:"py-4  space-x-4 px-2",children:e.jsx("button",{type:"submit",className:"bg-[#9d1d27] flex-inline justify-center items-center text-white px-4 py-2 rounded-md focus:outline-none",disabled:j,children:"Submit"})})]})]})})})]}):null,o==="axis"?e.jsxs("div",{children:[e.jsx("div",{className:"flex justify-center my-5",children:e.jsxs("div",{className:"flex mb-4 sm:flex-row flex-col sm:w-full w-[50]  items-center justify-center sm:justify-around px-10",children:[e.jsx("img",{className:"h-auto sm:mb-0 mb-2",style:{width:"12rem"},src:"/wagon-login.png"}),e.jsx("img",{className:"h-auto sm:mb-0 mb-2",style:{width:"10rem"},src:"/axisLogo-1.png"})]})}),e.jsx("div",{style:{paddingBottom:"200px"},className:"flex justify-center",children:e.jsx("div",{className:"flex items-center justify-center p-5",children:e.jsxs("div",{className:"rounded overflow-hidden shadow-lg p-5 bg-[white] shadow-[0_3px_10px_rgb(0,0,0,0.2)]",children:[e.jsx("h1",{className:"text-xl text-700",children:"Attendence Form"}),e.jsx("br",{}),e.jsx("form",{onSubmit:w,children:e.jsxs("div",{className:"w-100 flex flex-wrap",children:[e.jsxs("div",{className:"md:px-2 sm:px-0",children:[e.jsx("label",{className:"leading-loose",children:"Employee Id"}),e.jsx("input",{type:"text",name:"email",className:"px-4 py-2 border focus:ring-gray-500 focus:border-gray-900 w-full sm:text-sm border-gray-300 rounded-md focus:outline-none text-gray-600",placeholder:"Provide Employee Id",required:!0,value:m,onChange:l=>y(l.target.value)})]}),e.jsx("div",{className:"py-1 mt-7 space-x-4",children:e.jsx("button",{type:"submit",className:"bg-[#97144c] flex-inline justify-center items-center text-white px-4 py-1 rounded-md focus:outline-none",children:"Find"})})]})})]})})}),S&&e.jsx("div",{className:"fixed top-0 left-0 w-full h-full flex items-start justify-center bg-gray-800/40 p-4",children:e.jsxs("div",{className:"bg-white w-full max-w-md shadow-md px-4 sm:p-6 sm:max-w-lg sm:w-full mt-10 sm:mx-auto rounded-lg",children:[e.jsx("div",{className:"flex justify-end items-end p-2",children:e.jsx(D,{onClick:v,className:"cursor-pointer text-2xl font-semibold text-black"})}),e.jsxs("div",{className:"px-4",children:[e.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-600",children:e.jsx("svg",{className:"h-6 w-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlnx:"http://www.w.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),e.jsxs("div",{className:"rounded overflow-hidden",children:[e.jsx("p",{className:"font-bold text-gray-800 md:text-lg sm:text-sm flex justify-center text-center",children:"Attendance Submitted Successfully."}),e.jsxs("p",{className:"my-4 text-gray-900 dark:text-gray-400 text-center",children:["Thank you! The attendance for"," ",e.jsx("span",{className:"font-medium",children:a==null?void 0:a.name})," With Email"," ",e.jsx("span",{className:"font-medium",children:a==null?void 0:a.email})," has been successfully submitted."]}),e.jsx("button",{type:"button",className:"py-3 my-2 mx-auto px-4 rounded-lg flex items-center gap-x-2 text-sm font-semibold bg-green-600 text-white disabled:opacity-50 disabled:pointer-events-none dark:focus:outline-none dark:focus:ring-1 dark:focus:ring-gray-600",onClick:v,children:"Confirm"}),e.jsx("br",{})]})]})]})})]}):null,o==="kotak"?e.jsxs("div",{children:[e.jsx("div",{className:"flex justify-center my-5",children:e.jsxs("div",{className:"flex mb-4 sm:flex-row flex-col sm:w-full w-[50]  items-center justify-center sm:justify-around px-10",children:[e.jsx("img",{className:"h-auto sm:mb-0 mb-2",style:{width:"12rem"},src:"/wagon-login.png"}),e.jsx("img",{className:"h-auto sm:mb-0 mb-2",style:{width:"10rem"},src:"/kotak.png"})]})}),e.jsx("div",{style:{paddingBottom:"200px"},className:"flex justify-center",children:e.jsx("div",{className:"flex items-center justify-center p-5",children:e.jsxs("div",{className:"rounded overflow-hidden shadow-lg p-5 bg-[white] shadow-[0_3px_10px_rgb(0,0,0,0.2)]",children:[e.jsx("h1",{className:"text-xl text-700",children:"Attendence Form"}),e.jsx("br",{}),e.jsx("form",{onSubmit:w,children:e.jsxs("div",{className:"w-100 flex flex-wrap",children:[e.jsxs("div",{className:"md:px-2 sm:px-0",children:[e.jsx("label",{className:"leading-loose",children:"Employee Id"}),e.jsx("input",{type:"text",name:"email",className:"px-4 py-2 border focus:ring-gray-500 focus:border-gray-900 w-full sm:text-sm border-gray-300 rounded-md focus:outline-none text-gray-600",placeholder:"Provide Employee Id",required:!0,value:m,onChange:l=>y(l.target.value)})]}),e.jsx("div",{className:"py-1 mt-7 space-x-4",children:e.jsx("button",{type:"submit",className:"bg-[#003366] flex-inline justify-center items-center text-white px-4 py-1 rounded-md focus:outline-none",children:"Find"})})]})}),e.jsxs("form",{onSubmit:N,children:["`"," ",e.jsxs("div",{className:"px-2",children:[e.jsx("label",{className:"leading-loose",children:"Full name"}),e.jsx("input",{name:"fullName",className:"px-4 py-2 border focus:ring-gray-500 focus:border-gray-900 w-full sm:text-sm border-gray-300 rounded-md focus:outline-none text-gray-600",placeholder:"Provide full name",required:!0,disabled:!0,defaultValue:a==null?void 0:a.name})]}),e.jsx("div",{className:"py-4  space-x-4 px-2",children:e.jsx("button",{type:"submit",className:"bg-[#003366] flex-inline justify-center items-center text-white px-4 py-2 rounded-md focus:outline-none",disabled:j,children:"Submit"})})]})]})})})]}):null]})}export{q as default};
