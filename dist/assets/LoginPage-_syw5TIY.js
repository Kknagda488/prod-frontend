import{g as L,a as F,s as _,y as Y,d as g,_ as x,c as T,r as m,u as A,e as k,j as t,i as H,k as O,z as Z,A as ee,P as te,M as re,B as b,E as U,F as D,l as N,m as se,p as oe,G as i,T as R,H as S,O as M,I as ae,J as ne,Q as P,K as ie,N as le,R as ce,S as de}from"./index-PDBVLXQN.js";import{I as $}from"./InputLabel-De8xZEfC.js";function ue(e){return F("MuiIconButton",e)}const pe=L("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),me=["edge","children","className","color","disabled","disableFocusRipple","size"],xe=e=>{const{classes:r,disabled:s,color:o,edge:l,size:p}=e,c={root:["root",s&&"disabled",o!=="default"&&`color${g(o)}`,l&&`edge${g(l)}`,`size${g(p)}`]};return O(c,ue,r)},ge=_(Y,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:s}=e;return[r.root,s.color!=="default"&&r[`color${g(s.color)}`],s.edge&&r[`edge${g(s.edge)}`],r[`size${g(s.size)}`]]}})(({theme:e,ownerState:r})=>x({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest})},!r.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:T(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},r.edge==="start"&&{marginLeft:r.size==="small"?-3:-12},r.edge==="end"&&{marginRight:r.size==="small"?-3:-12}),({theme:e,ownerState:r})=>{var s;const o=(s=(e.vars||e).palette)==null?void 0:s[r.color];return x({},r.color==="inherit"&&{color:"inherit"},r.color!=="inherit"&&r.color!=="default"&&x({color:o==null?void 0:o.main},!r.disableRipple&&{"&:hover":x({},o&&{backgroundColor:e.vars?`rgba(${o.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:T(o.main,e.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),r.size==="small"&&{padding:5,fontSize:e.typography.pxToRem(18)},r.size==="large"&&{padding:12,fontSize:e.typography.pxToRem(28)},{[`&.${pe.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled}})}),fe=m.forwardRef(function(r,s){const o=A({props:r,name:"MuiIconButton"}),{edge:l=!1,children:p,className:c,color:f="default",disabled:n=!1,disableFocusRipple:a=!1,size:v="medium"}=o,u=k(o,me),j=x({},o,{edge:l,color:f,disabled:n,disableFocusRipple:a,size:v}),y=xe(j);return t.jsx(ge,x({className:H(y.root,c),centerRipple:!0,focusRipple:!a,disabled:n,ref:s},u,{ownerState:j,children:p}))}),he=fe;function ve(e){return F("MuiFormHelperText",e)}const je=L("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),B=je;var E;const be=["children","className","component","disabled","error","filled","focused","margin","required","variant"],ye=e=>{const{classes:r,contained:s,size:o,disabled:l,error:p,filled:c,focused:f,required:n}=e,a={root:["root",l&&"disabled",p&&"error",o&&`size${g(o)}`,s&&"contained",f&&"focused",c&&"filled",n&&"required"]};return O(a,ve,r)},Ce=_("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:s}=e;return[r.root,s.size&&r[`size${g(s.size)}`],s.contained&&r.contained,s.filled&&r.filled]}})(({theme:e,ownerState:r})=>x({color:(e.vars||e).palette.text.secondary},e.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${B.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${B.error}`]:{color:(e.vars||e).palette.error.main}},r.size==="small"&&{marginTop:4},r.contained&&{marginLeft:14,marginRight:14})),Ie=m.forwardRef(function(r,s){const o=A({props:r,name:"MuiFormHelperText"}),{children:l,className:p,component:c="p"}=o,f=k(o,be),n=Z(),a=ee({props:o,muiFormControl:n,states:["variant","size","disabled","error","filled","focused","required"]}),v=x({},o,{component:c,contained:a.variant==="filled"||a.variant==="outlined",variant:a.variant,size:a.size,disabled:a.disabled,error:a.error,filled:a.filled,focused:a.focused,required:a.required}),u=ye(v);return t.jsx(Ce,x({as:c,ownerState:v,className:H(u.root,p),ref:s},f,{children:l===" "?E||(E=t.jsx("span",{className:"notranslate",children:"â€‹"})):l}))}),I=Ie,Re=_("div")(({theme:e})=>({backgroundColor:e.palette.primary.light,minHeight:"100vh"})),q=({children:e,...r})=>t.jsx(re,{sx:{maxWidth:{xs:400,lg:475},margin:{xs:2.5,md:3},"& > *":{flexGrow:1,flexBasis:"50%"}},content:!1,...r,children:t.jsx(b,{sx:{p:{xs:2,sm:3,xl:5}},children:e})});q.propTypes={children:te.node};var z={},_e=D;Object.defineProperty(z,"__esModule",{value:!0});var V=z.default=void 0,ze=_e(U()),we=t;V=z.default=(0,ze.default)((0,we.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility");var w={},Te=D;Object.defineProperty(w,"__esModule",{value:!0});var W=w.default=void 0,Se=Te(U()),Me=t;W=w.default=(0,Se.default)((0,Me.jsx)("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7M2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2m4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3z"}),"VisibilityOff");const Pe=()=>{const e=m.useRef(!0);return m.useEffect(()=>()=>{e.current=!1},[]),e};var $e={VITE_PUBLIC_URL:"http://15.206.237.179:8000",VITE_PUBLIC_EMAIL_SUFFIX:"@wagonslearning.com",VITE_PUBLIC_LINK:"http://13.126.247.25:3000",VITE_DOMAIN:"http://15.206.237.179:3000",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const Be=({...e})=>{const r=N();Pe();const[s,o]=m.useState(""),[l,p]=m.useState(""),[c,f]=m.useState(!1),[n,a]=m.useState({}),[v,u]=m.useState(!1),j=se(),{storeUserDataInLs:y}=oe(),G=()=>{f(!c)},J=d=>{d.preventDefault()},K=d=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(d),Q=d=>d.length>=6,X=async d=>{if(d.preventDefault(),u(!0),!Q(l)){a({password:"Password must be at least 6 characters long"}),u(!1);return}if(!K(s)){a({email:"Invalid email address"}),u(!1);return}try{const h=await fetch("http://15.206.237.179:8000/api/Users/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:s,password:l,domain:$e.REACT_APP_DOMAIN})}),C=await h.json();h.ok?C.data&&(y(C.data),P.success("Login Successfully"),j("/dashboard"),u(!1)):(P.error(C.msg),u(!1))}catch(h){console.error("Login error:",h.message),a({submit:h.message}),u(!1)}};return t.jsxs(t.Fragment,{children:[t.jsx(i,{container:!0,direction:"column",justifyContent:"center",spacing:2,children:t.jsx(i,{item:!0,xs:12,container:!0,alignItems:"center",justifyContent:"center",children:t.jsx(b,{sx:{mb:2},children:t.jsx(R,{variant:"subtitle1",children:"Sign in with Email address"})})})}),t.jsxs("form",{noValidate:!0,onSubmit:X,...e,children:[t.jsxs(S,{fullWidth:!0,error:!!n.email,sx:{...r.typography.customInput},children:[t.jsx($,{htmlFor:"outlined-adornment-email-login",children:"Email Address / Username"}),t.jsx(M,{id:"outlined-adornment-email-login",type:"email",value:s,onChange:d=>o(d.target.value),label:"Email Address / Username",inputProps:{}}),n.email&&t.jsx(I,{error:!0,id:"standard-weight-helper-text-email-login",children:n.email})]}),t.jsxs(S,{fullWidth:!0,error:!!n.password,sx:{...r.typography.customInput},children:[t.jsx($,{htmlFor:"outlined-adornment-password-login",children:"Password"}),t.jsx(M,{id:"outlined-adornment-password-login",type:c?"text":"password",value:l,onChange:d=>p(d.target.value),endAdornment:t.jsx(ae,{position:"end",children:t.jsx(he,{"aria-label":"toggle password visibility",onClick:G,onMouseDown:J,edge:"end",size:"large",children:c?t.jsx(V,{}):t.jsx(W,{})})}),label:"Password",inputProps:{}}),n.password&&t.jsx(I,{error:!0,id:"standard-weight-helper-text-password-login",children:n.password})]}),n.submit&&t.jsx(b,{sx:{mt:3},children:t.jsx(I,{error:!0,children:n.submit})}),t.jsx(b,{sx:{mt:2},children:t.jsx(ne,{disableElevation:!0,fullWidth:!0,size:"large",type:"submit",style:{backgroundColor:r.palette.secondary.main,color:r.palette.info.contrastText},children:"Log in"})})]})]})},Fe=()=>{const e=N(),r=ie(e.breakpoints.down("md"));return t.jsx(Re,{children:t.jsxs(i,{container:!0,direction:"column",justifyContent:"flex-end",sx:{minHeight:"100vh"},children:[t.jsx(i,{item:!0,xs:12,children:t.jsx(i,{container:!0,justifyContent:"center",alignItems:"center",sx:{minHeight:"calc(100vh - 68px)"},children:t.jsx(i,{item:!0,sx:{m:{xs:1,sm:3},mb:0},children:t.jsx(q,{children:t.jsxs(i,{container:!0,spacing:2,alignItems:"center",justifyContent:"center",children:[t.jsx(i,{item:!0,sx:{mb:3},children:t.jsx(le,{to:"#",children:t.jsx(ce,{})})}),t.jsx(i,{item:!0,xs:12,children:t.jsx(i,{container:!0,direction:r?"column-reverse":"row",alignItems:"center",justifyContent:"center",children:t.jsx(i,{item:!0,children:t.jsxs(de,{alignItems:"center",justifyContent:"center",spacing:1,children:[t.jsx(R,{color:e.palette.secondary.main,gutterBottom:!0,variant:r?"h3":"h2",children:"Hi, Welcome Back"}),t.jsx(R,{variant:"caption",fontSize:"16px",textAlign:r?"center":"inherit",children:"Enter your credentials to continue"})]})})})}),t.jsx(i,{item:!0,xs:12,children:t.jsx(Be,{})}),t.jsx(i,{item:!0,xs:12,children:t.jsx(i,{item:!0,container:!0,direction:"column",alignItems:"center",xs:12})})]})})})})}),t.jsx(i,{item:!0,xs:12,sx:{m:3,mt:1}})]})})};export{Fe as default};
